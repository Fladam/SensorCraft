<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>04 Play with Gravity &mdash; SensorCraft 1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="SensorCraft 1 documentation" href="index.html" />
    <link rel="next" title="05 Pickling The World" href="05_pickling_the_world.html" />
    <link rel="prev" title="03 Show Current Block" href="03_show_current_block.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="play-with-gravity">
<h1>04 Play with Gravity<a class="headerlink" href="#play-with-gravity" title="Permalink to this headline">Â¶</a></h1>
<p>As the main programmer of SensorCraft we are in control, nothing is off limits.
Our only limitation is our imagination and programming skill.  Imagination is
not in short supply but programming skill is something that needs to be
developed.  Simulations, aka video games, have some challenging aspects some of
which we have already covered.   Performance is a must with any video game
because if a high frame rate is not maintained then the user will be
disappointed.  Since we are in control why not have a little fun and experiment
with some of the game constants such as gravity.</p>
<p>To get started with this programming exercise first copy the original game&#8217;s
python code to a new file 04_play_with_gravity_TVR.py but replace TVR with your
initials using the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>cp main.py 04_play_with_gravity_TVR.py
</pre></div>
</div>
<p>This command will start a new file with the original game&#8217;s traits so the world
will be random with multiple hills and valleys.  At the very top of the new
Python program you will see many variables that are being set, it is a
programming practice to name all constants with capital letters.  First cut the
gravity in half by changing line 19 to &#8220;GRAVITY = 10.0&#8221;, don&#8217;t use the quotes.
After you make the change run the program and jump to see how that effects
things.  Next set the MAX_JUMP_HEIGHT to 5, which is specified in number of
blocks, by changing line 20 to &#8220;MAX_JUMP_HEIGHT=5.0&#8221;.  Experiment with GRAVITY
and MAX_JUMP_HEIGHT trying to create an environment similar to what you think it
would be like on the moon. With the right settings you can actually jump between
each hill top easily. For fun lets say your character just consumed a box of
candy and drank 12 cans of soda, then you should set the WALKING_SPEED on line
16 to 10.  My changes from the start of the program to line 32 look like the
following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<span class="kn">from</span> <span class="nn">pyglet</span> <span class="kn">import</span> <span class="n">image</span>
<span class="kn">from</span> <span class="nn">pyglet.gl</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyglet.graphics</span> <span class="kn">import</span> <span class="n">TextureGroup</span>
<span class="kn">from</span> <span class="nn">pyglet.window</span> <span class="kn">import</span> <span class="n">key</span><span class="p">,</span> <span class="n">mouse</span>

<span class="n">TICKS_PER_SEC</span> <span class="o">=</span> <span class="mi">60</span>

<span class="c"># Size of sectors used to ease block loading.</span>
<span class="n">SECTOR_SIZE</span> <span class="o">=</span> <span class="mi">16</span>

<span class="n">WALKING_SPEED</span> <span class="o">=</span> <span class="mi">10</span> <span class="c"># originally 5</span>
<span class="n">FLYING_SPEED</span> <span class="o">=</span> <span class="mi">15</span>

<span class="n">GRAVITY</span> <span class="o">=</span> <span class="mf">5.0</span> <span class="c"># originally 20.0</span>
<span class="n">MAX_JUMP_HEIGHT</span> <span class="o">=</span> <span class="mf">20.0</span> <span class="c"># originally 1.0, about the height of a block.</span>
<span class="c"># To derive the formula for calculating jump speed, first solve</span>
<span class="c">#    v_t = v_0 + a * t</span>
<span class="c"># for the time at which you achieve maximum height, where a is the acceleration</span>
<span class="c"># due to gravity and v_t = 0. This gives:</span>
<span class="c">#    t = - v_0 / a</span>
<span class="c"># Use t and the desired MAX_JUMP_HEIGHT to solve for v_0 (jump speed) in</span>
<span class="c">#    s = s_0 + v_0 * t + (a * t^2) / 2</span>
<span class="n">JUMP_SPEED</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">GRAVITY</span> <span class="o">*</span> <span class="n">MAX_JUMP_HEIGHT</span><span class="p">)</span>
<span class="n">TERMINAL_VELOCITY</span> <span class="o">=</span> <span class="mi">50</span>

<span class="n">PLAYER_HEIGHT</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">SensorCraft</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">README</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="00_flat_world.html">00 Flat World</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_building_automatically.html">01 Building Automatically</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_3D_coordinate_system.html">02 3D Coordinate System</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_show_current_block.html">03 Show Current Block</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">04 Play with Gravity</a></li>
<li class="toctree-l1"><a class="reference internal" href="05_pickling_the_world.html">05 Pickling The World</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_reading_the_pickled_world.html">06 Reading the Pickled World</a></li>
<li class="toctree-l1"><a class="reference internal" href="conclusion.html">Conclusion</a></li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
      
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/04_play_with_gravity.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>